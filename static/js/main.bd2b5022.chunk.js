(this["webpackJsonpladies-react-app"]=this["webpackJsonpladies-react-app"]||[]).push([[0],{17:function(t,e,a){},18:function(t,e,a){},19:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a(1),n=a.n(c),s=a(9),i=a.n(s),l=a(8),o=a.n(l),d=a(10),u=a(2),j=a(3),b=a(4),h=a(6),p=a(5);var O=function(){var t=Object(c.useContext)(_).setFilter;return Object(r.jsx)("div",{className:"header_widget_search",children:Object(r.jsx)("input",{onKeyUp:function(e){e.target.value.length>=3?t({type:"search",value:e.target.value}):t({type:"",value:""})},className:"header_widget_search_query",name:"search_query",placeholder:"Search"})})},g=function(){var t=Object(c.useContext)(_).cart;return Object(r.jsxs)("div",{className:"header_widget_cart",children:[Object(r.jsx)("div",{className:"header_widget_cart_count",children:t.count}),Object(r.jsx)("button",{className:"header_widget_cart_btn"})]})},v=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("div",{className:"header_logo",children:Object(r.jsx)("a",{href:"/",children:"Ladies"})}),Object(r.jsxs)("div",{className:"header_widgets",children:[Object(r.jsx)(O,{}),Object(r.jsx)(g,{})]})]})}}]),a}(n.a.Component);a(17);var f=function(){var t=Object(c.useContext)(_),e=t.dataStatus,a=t.cart,n=t.setCart,s=t.filter,i=(t.setFilter,Object(c.useState)("")),l=Object(u.a)(i,2),o=l[0],d=l[1],j=localStorage.getItem("data")||"";function b(t){var e=t.target.dataset.action,r=t.target.dataset.productId,c=a.list;"add"===e&&-1===c.indexOf(r)&&(c.push(r),t.target.innerHTML="-",t.target.dataset.action="del"),"del"===e&&-1!==c.indexOf(r)&&(c.splice(c.indexOf(r),1),t.target.innerHTML="+",t.target.dataset.action="add"),n({count:c.length,list:c})}function h(){var t=j||[];if("search"===s.type&&s.value.length>0){var e=function(){var t=j.filter((function(t){return!!new RegExp(s.value,"gmi").test(t.title)&&t}));return t.length>0&&t}();t=!1!==e&&e.length>0?e:j}if("sort"===s.type){var c=function(t){var e=[];return(e=j).sort((function(t,e){return t.price-e.price})),"desc"==t&&(e=e.reverse()),e||!1}(s.value);t=!1!==c&&c.length>0?c:j}var n=t.map((function(t,e){var c=-1!==a.list.indexOf(String(e))?"-":"+";return Object(r.jsxs)("li",{className:"product",children:[Object(r.jsx)("div",{className:"product_image",children:Object(r.jsx)("img",{src:t.image,alt:t.title})}),Object(r.jsxs)("div",{className:"product_caption",children:[Object(r.jsx)("div",{className:"product_name",children:t.title}),Object(r.jsx)("div",{className:"product_description",children:t.category}),Object(r.jsxs)("div",{className:"product_price",children:[Object(r.jsx)("div",{className:"product_price_value",children:t.price}),Object(r.jsx)("button",{"data-action":"+"===c?"add":"del","data-product-id":e,onClick:b,className:"product_cart_btn",children:c})]})]})]},e)}));n&&d(Object(r.jsx)("ul",{className:"catalog_products_list",children:n}))}return j.length>0&&(j=JSON.parse(j)),Object(c.useEffect)((function(t){e&&h()}),[e,s]),Object(r.jsx)("div",{className:"catalog_products",children:o})};var x=function(){var t=Object(c.useContext)(_),e=t.filter,a=t.setFilter;function n(t){var e="SPAN"===t.target?t.target.closest("button"):t.target,a=e.dataset.dir?e.dataset.dir:"next",r=document.querySelectorAll(".catalog_products_list")[0];if(r){var c=r.offsetWidth,n=r.querySelectorAll("li"),s=n[0],i=window.getComputedStyle(s),l=s.offsetWidth,o=i.getPropertyValue("margin-left"),d=i.getPropertyValue("margin-right");d&&(l+=d=parseInt(d)),o&&(o=Math.abs(parseInt(o)));var u=0;o<n.length*l-Math.ceil(c/l)*l+l&&(u=o+l*("prev"===a?-1:1)),s.style.marginLeft="-".concat(u,"px")}}return Object(r.jsxs)("div",{className:"catalog",children:[Object(r.jsxs)("div",{className:"catalog_header",children:[Object(r.jsxs)("div",{className:"catalog_filters",children:[Object(r.jsx)("div",{className:"catalog_filter_name",children:"All products"}),Object(r.jsx)("div",{className:"catalog_filter_option",children:Object(r.jsx)("button",{onClick:function(t){"sort"===e.type?a({type:"sort",value:"asc"===e.value?"desc":"asc"}):a({type:"sort",value:"asc"}),t.target.classList.toggle("rotate")},className:"catalog_filter_option_btn",children:Object(r.jsx)("span",{className:"ico_filter"})})})]}),Object(r.jsxs)("div",{className:"catalog_nav",children:[Object(r.jsx)("button",{"data-dir":"prev",onClick:n,className:"catalog_nav_btn_prev",children:Object(r.jsx)("span",{className:"ico_arrow"})}),Object(r.jsx)("button",{"data-dir":"next",onClick:n,className:"catalog_nav_btn_next",children:Object(r.jsx)("span",{className:"ico_arrow"})})]})]}),Object(r.jsx)(f,{})]})},m=function(t){Object(h.a)(a,t);var e=Object(p.a)(a);function a(){return Object(j.a)(this,a),e.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(r.jsx)("main",{className:"main",children:Object(r.jsx)(x,{})})}}]),a}(n.a.Component),_=(a(18),n.a.createContext());var N=function(){var t=Object(c.useState)(!1),e=Object(u.a)(t,2),a=e[0],n=e[1],s=Object(c.useState)({type:"",value:""}),i=Object(u.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)((function(){var t=[],e=localStorage.getItem("cart");return e&&e.length>0&&(t=JSON.parse(e)),Array.isArray(t)||(t=[]),{count:t.length,list:t}})),h=Object(u.a)(b,2),p=h[0],O=h[1];function g(t){if((t=t||"").length>0)return localStorage.setItem("data",JSON.stringify(t)),!0;var e=localStorage.getItem("data")||"";return e.length>0&&JSON.parse(e)}return Object(c.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(p.list))}),[p]),function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,fetch("https://fakestoreapi.com/products/").then((function(t){return t.json()})).then((function(t){g(t),n(!0)}));case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),Object(r.jsx)("div",{className:"ladies","data-status":a,children:Object(r.jsxs)(_.Provider,{value:{dataStatus:a,cart:p,setCart:O,filter:l,setFilter:j},children:[Object(r.jsx)(v,{}),Object(r.jsx)(m,{})]})})};i.a.render(Object(r.jsx)(N,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.bd2b5022.chunk.js.map