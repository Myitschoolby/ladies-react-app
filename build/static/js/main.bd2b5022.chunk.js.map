{"version":3,"sources":["components/Search.js","components/Cart.js","components/Header.js","components/Products.js","components/Catalog.js","components/Main.js","App.js","index.js"],"names":["Search","setFilter","useContext","Context","className","onKeyUp","event","target","value","length","type","name","placeholder","Cart","cart","count","Header","href","React","Component","Products","dataStatus","setCart","filter","useState","productsHtml","setProductsHtml","data","localStorage","getItem","addDel","action","dataset","id","productId","list","indexOf","push","innerHTML","splice","show","dataProducts","filterData","product","RegExp","test","title","filterProducts","sortData","priceData","sort","a","b","price","reverse","sortProducts","html","map","index","btnName","String","src","image","alt","category","data-action","data-product-id","onClick","JSON","parse","useEffect","_","Catalog","slideNextPrev","btn","closest","dir","products_container","document","querySelectorAll","products_container_width","offsetWidth","products_list","product_first","product_first_styles","window","getComputedStyle","product_first_width","product_first_ml","getPropertyValue","product_first_mr","parseInt","Math","abs","ml","ceil","style","marginLeft","classList","toggle","data-dir","Main","createContext","App","setDataStatus","storage","Array","isArray","setItem","stringify","storageData","fetch","then","response","json","result","getData","data-status","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bd2b5022.chunk.js","sourcesContent":["import React, { useContext } from 'react';\r\n\r\nimport {Context} from '../App.js';\r\n\r\nfunction Search() {\r\n    const {setFilter} = useContext(Context);\r\n\r\n    function find(event) {\r\n        if (event.target.value.length >= 3) {\r\n            setFilter({\r\n                type: 'search',\r\n                value: event.target.value\r\n            });\r\n        } else {\r\n            setFilter({\r\n                type: '',\r\n                value: ''\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"header_widget_search\">\r\n            <input onKeyUp={find} className=\"header_widget_search_query\" name=\"search_query\" placeholder=\"Search\" />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Search;","import React, {useContext} from 'react';\r\n\r\nimport {Context} from '../App.js';\r\n\r\nconst Cart = function() {\r\n    const {cart} = useContext(Context);\r\n\r\n    return (\r\n        <div className=\"header_widget_cart\">\r\n            <div className=\"header_widget_cart_count\">{cart.count}</div>\r\n            <button className=\"header_widget_cart_btn\"></button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cart;","import React from 'react';\r\n\r\nimport Search from './Search.js';\r\nimport Cart from './Cart.js';\r\n\r\nclass Header extends React.Component {\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n                <div className=\"header_logo\"><a href=\"/\">Ladies</a></div>\r\n                <div className=\"header_widgets\">\r\n                    <Search />\r\n                    <Cart />\r\n                </div>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React, { useState, useContext, useEffect } from 'react';\r\n\r\nimport {Context} from '../App.js';\r\n\r\nfunction Products() {\r\n    const {dataStatus, cart, setCart, filter, setFilter} = useContext(Context);\r\n\r\n    const [productsHtml, setProductsHtml] = useState('');\r\n\r\n    let data = localStorage.getItem('data') || '';\r\n    if (data.length > 0) data = JSON.parse(data);\r\n\r\n    function addDel(event) {\r\n        const action = event.target.dataset.action;\r\n        const id = event.target.dataset.productId;\r\n        const list = cart.list;\r\n\r\n        if (action === \"add\" && list.indexOf(id) === -1) {\r\n            list.push(id);\r\n\r\n            event.target.innerHTML = '-';\r\n            event.target.dataset.action = 'del';\r\n        }\r\n\r\n        if (action === \"del\" && list.indexOf(id) !== -1) {\r\n            list.splice(list.indexOf(id), 1);\r\n\r\n            event.target.innerHTML = '+';\r\n            event.target.dataset.action = 'add';\r\n        }\r\n\r\n        setCart({\r\n            count: list.length,\r\n            list: list\r\n        });\r\n    };\r\n\r\n    function filterProducts() {\r\n        let filterData = data.filter(function(product) {\r\n            let reg = new RegExp(filter.value,\"gmi\");\r\n\r\n            return reg.test(product.title) ? product : false;\r\n        });\r\n\r\n        if (filterData.length > 0) return filterData;\r\n        return false;\r\n    }\r\n\r\n    function sortProducts(type) {\r\n        let priceData = [];\r\n\r\n        priceData = data;\r\n\r\n        priceData.sort((a, b) => {\r\n            return a.price - b.price;\r\n        });\r\n\r\n        if (type == 'desc') priceData = priceData.reverse();\r\n\r\n        return priceData || false;\r\n    }\r\n\r\n    function show() {\r\n        let dataProducts = data || [];\r\n\r\n        if (filter.type === 'search' && filter.value.length > 0) {\r\n            let filterData = filterProducts();\r\n\r\n            if (filterData !== false && filterData.length > 0) dataProducts = filterData;\r\n            else dataProducts = data;\r\n        }\r\n\r\n        if (filter.type === 'sort') {\r\n            let sortData = sortProducts(filter.value);\r\n\r\n            if (sortData !== false && sortData.length > 0) dataProducts = sortData;\r\n            else dataProducts = data;\r\n        }\r\n\r\n        let html = dataProducts.map(function (product, index) {\r\n            let btnName = cart.list.indexOf(String(index)) !== -1 ? '-' : '+';\r\n\r\n            return (\r\n            <li key={index} className=\"product\">\r\n                <div className=\"product_image\">\r\n                    <img src={product.image} alt={product.title} />\r\n                </div>\r\n                <div className=\"product_caption\">\r\n                    <div className=\"product_name\">{product.title}</div>\r\n                    <div className=\"product_description\">{product.category}</div>\r\n                    <div className=\"product_price\">\r\n                        <div className=\"product_price_value\">{product.price}</div>\r\n                        <button data-action={btnName === \"+\" ? \"add\" : \"del\"} data-product-id={index} onClick={addDel} className=\"product_cart_btn\">{btnName}</button>\r\n                    </div>\r\n                </div>\r\n            </li>\r\n            );\r\n        });\r\n\r\n        if (html) setProductsHtml(<ul className=\"catalog_products_list\">{html}</ul>);\r\n    }\r\n\r\n    useEffect(_ => {\r\n        if (dataStatus) show();\r\n    }, [dataStatus, filter]);\r\n\r\n    return (\r\n    <div className=\"catalog_products\">\r\n        {productsHtml}\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Products;","import React, {useContext} from 'react';\r\n\r\nimport '../css/catalog.css';\r\n\r\nimport Products from './Products.js';\r\n\r\nimport {Context} from '../App.js';\r\n\r\nfunction Catalog() {\r\n    const {filter, setFilter} = useContext(Context);\r\n\r\n    function sort(event) {\r\n        if (filter.type === 'sort') {\r\n            setFilter({\r\n                type: 'sort',\r\n                value: (filter.value === 'asc' ? 'desc' : 'asc')\r\n            });\r\n        } else {\r\n            setFilter({\r\n                type: 'sort',\r\n                value: 'asc'\r\n            });\r\n        }\r\n\r\n        event.target.classList.toggle('rotate');\r\n    }\r\n\r\n    function slideNextPrev(event) {\r\n        const btn = event.target === 'SPAN' ? event.target.closest('button') : event.target;\r\n        const dir = !btn.dataset.dir ? 'next' : btn.dataset.dir;\r\n\r\n        const products_container = document.querySelectorAll('.catalog_products_list')[0];\r\n\r\n        if (!products_container) return;\r\n\r\n        const products_container_width = products_container.offsetWidth;\r\n\r\n        const products_list = products_container.querySelectorAll('li');\r\n\r\n        const product_first = products_list[0];\r\n        const product_first_styles = window.getComputedStyle(product_first);\r\n\r\n        let product_first_width = product_first.offsetWidth;\r\n        let product_first_ml = product_first_styles.getPropertyValue('margin-left');\r\n        let product_first_mr = product_first_styles.getPropertyValue('margin-right');\r\n\r\n        if (product_first_mr) {\r\n            product_first_mr = parseInt(product_first_mr);\r\n            product_first_width = product_first_width + product_first_mr;\r\n        }\r\n\r\n        if (product_first_ml) {\r\n            product_first_ml = Math.abs(parseInt(product_first_ml));\r\n        }\r\n\r\n        let ml = 0;\r\n        const stopPoint = (products_list.length * product_first_width) - (Math.ceil(products_container_width / product_first_width) * product_first_width);\r\n\r\n        if (product_first_ml < (stopPoint + product_first_width)) ml = product_first_ml + product_first_width * (dir === 'prev' ? -1 : 1);\r\n\r\n        product_first.style.marginLeft = `-${ml}px`;\r\n    }\r\n\r\n    return (\r\n        <div className=\"catalog\">\r\n            <div className=\"catalog_header\">\r\n                <div className=\"catalog_filters\">\r\n                    <div className=\"catalog_filter_name\">All products</div>\r\n                    <div className=\"catalog_filter_option\">\r\n                        <button onClick={sort} className=\"catalog_filter_option_btn\">\r\n                            <span className=\"ico_filter\"></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"catalog_nav\">\r\n                    <button data-dir=\"prev\" onClick={slideNextPrev} className=\"catalog_nav_btn_prev\"><span className=\"ico_arrow\"></span></button>\r\n                    <button data-dir=\"next\" onClick={slideNextPrev} className=\"catalog_nav_btn_next\"><span className=\"ico_arrow\"></span></button>\r\n                </div>\r\n            </div>\r\n            <Products />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Catalog;","import React from 'react';\r\n\r\nimport Catalog from './Catalog.js';\r\n\r\nclass Main extends React.Component {\r\n    render() {\r\n        return (\r\n            <main className=\"main\">\r\n                <Catalog />\r\n            </main>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import React, { useEffect, useState } from 'react';\r\n\r\nimport Header from './components/Header.js';\r\nimport Main from './components/Main.js';\r\n\r\nimport './css/style.css';\r\n\r\nexport const Context = React.createContext();\r\n\r\nfunction App() {\r\n    const [dataStatus, setDataStatus] = useState(false);\r\n\r\n    const [filter, setFilter] = useState({\r\n        type: '',\r\n        value: ''\r\n    });\r\n    \r\n    const [cart, setCart] = useState(function() {\r\n        let list = [];\r\n        \r\n        const storage = localStorage.getItem('cart');\r\n\r\n        if (storage) {\r\n            if (storage.length > 0) list = JSON.parse(storage);\r\n        }\r\n\r\n        if (!Array.isArray(list)) list = [];\r\n\r\n        return {\r\n            count: list.length,\r\n            list: list\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('cart', JSON.stringify(cart.list));\r\n\r\n    }, [cart]);\r\n\r\n    const getData = async function() {\r\n        if (dataStatus) return;\r\n\r\n        await fetch('https://fakestoreapi.com/products/')\r\n        .then((response) => {\r\n            return response.json();\r\n        })\r\n        .then((result) => {\r\n            storage(result);\r\n\r\n            setDataStatus(true);\r\n        });\r\n\r\n        return false;\r\n    };\r\n\r\n    function storage(data) {\r\n        data = data || '';\r\n\r\n        if (data.length > 0) {\r\n            localStorage.setItem('data', JSON.stringify(data));\r\n            \r\n            return true;\r\n        } else {\r\n            const storageData = localStorage.getItem('data') || '';\r\n\r\n            if (storageData.length > 0) return JSON.parse(storageData);\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getData();\r\n\r\n    return (\r\n        <div className=\"ladies\" data-status={dataStatus}>\r\n        <Context.Provider value={{ dataStatus, cart, setCart, filter, setFilter }}>\r\n            <Header />\r\n            <Main />\r\n        </Context.Provider>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App.js';\r\n\r\nReactDOM.render(\r\n\t<App />,\r\n\tdocument.getElementById('root')\r\n);"],"sourceRoot":""}